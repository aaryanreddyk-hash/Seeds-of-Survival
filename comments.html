<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Comments â€” Endangered Crop Species</title>
  <link rel="stylesheet" href="stylesheet.css">
</head>
<body>

<header>
  <nav>
    <a href="index.html">Home</a>
    <a href="about.html">About</a>
    <a href="articles.html">Articles</a>
    <a href="videos.html">Videos</a>
    <a href="faqs.html">FAQs</a>
    <a href="campaign.html">Campaigning</a>
    <a href="donate.html">Donate</a>
    <a href="quiz.html">Quiz</a>
    <a href="volunteer.html">Volunteering</a>
    <a href="comments.html">Comments</a>
  </nav>
</header>

<main>
  <h1>Comment Section</h1>
  <p>Share your thoughts about endangered crop species and conservation efforts.</p>

  <!-- COMMENT FORM -->
  <section class="comment-box">
    <h2>Leave a Comment</h2>
    <form id="commentForm">
      <label for="name">Name:</label><br>
      <input type="text" id="name" required><br><br>

      <label for="comment">Comment:</label><br>
      <textarea id="comment" rows="4" required></textarea><br><br>

      <button type="submit" class="button">Post Comment</button>
    </form>
  </section>

  <!-- DISPLAY COMMENTS -->
  <section class="comments-display">
    <h2>Comments</h2>
    <div id="commentsList"></div>
  </section>
</main>

<script>
// Load comments from localStorage
function loadComments() {
  const comments = JSON.parse(localStorage.getItem("comments")) || [];
  const commentsList = document.getElementById("commentsList");
  commentsList.innerHTML = "";

  comments.forEach(entry => {
    const commentDiv = document.createElement("div");
    commentDiv.classList.add("comment");

    commentDiv.innerHTML = `
      <h3>${entry.name}</h3>
      <p>${entry.comment}</p>
      <small>${entry.date}</small>
      <hr>
    `;

    commentsList.appendChild(commentDiv);
  });
}

// Save new comment
document.getElementById("commentForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const name = document.getElementById("name").value;
  const comment = document.getElementById("comment").value;
  const date = new Date().toLocaleString();

  const newComment = { name, comment, date };

  const comments = JSON.parse(localStorage.getItem("comments")) || [];
  comments.push(newComment);
  localStorage.setItem("comments", JSON.stringify(comments));

  document.getElementById("commentForm").reset();
  loadComments();
});

// Initialize comment list
loadComments();
</script>

</body>
</html>
